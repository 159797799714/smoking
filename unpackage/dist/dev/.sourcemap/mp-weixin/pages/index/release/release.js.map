{"version":3,"sources":["webpack:///C:/Users/pc/Desktop/LEI/smoking/main.js","webpack:///C:/Users/pc/Desktop/LEI/smoking/pages/index/release/release.vue?de23","webpack:///C:/Users/pc/Desktop/LEI/smoking/pages/index/release/release.vue?2854","webpack:///C:/Users/pc/Desktop/LEI/smoking/pages/index/release/release.vue?a180","webpack:///C:/Users/pc/Desktop/LEI/smoking/pages/index/release/release.vue?4be3","webpack:///C:/Users/pc/Desktop/LEI/smoking/pages/index/release/release.vue","webpack:///C:/Users/pc/Desktop/LEI/smoking/pages/index/release/release.vue?8296","webpack:///C:/Users/pc/Desktop/LEI/smoking/pages/index/release/release.vue?c673"],"names":["createPage","Page","components","topBar","data","formData","article_title","article_content","category_id","tags","address","address_latitude","address_longitude","uploaded","source","imgArr","imgUploadID","time","methods","goIndex","uni","switchTab","url","getAddress","that","chooseLocation","success","res","console","log","name","latitude","longitude","delImg","index","splice","uploadImg","length","leavelength","chooseImage","count","sizeType","sourceType","max_time","tempFilePaths","showLoading","title","map","item","then","hideLoading","showToast","icon","push","JSON","parse","file_id","err","releaseAction","params","$api","articleRelease","stringify","method","$httpRequest","code","msg"],"mappings":"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","file":"pages/index/release/release.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/index/release/release.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./release.vue?vue&type=template&id=354c8078&scoped=true&\"\nimport script from \"./release.vue?vue&type=script&lang=js&\"\nexport * from \"./release.vue?vue&type=script&lang=js&\"\nimport style0 from \"./release.vue?vue&type=style&index=0&id=354c8078&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"354c8078\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\pc\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('354c8078', component.options)\n    } else {\n      api.reload('354c8078', component.options)\n    }\n    module.hot.accept(\"./release.vue?vue&type=template&id=354c8078&scoped=true&\", function () {\n      api.rerender('354c8078', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Desktop/LEI/smoking/pages/index/release/release.vue\"\nexport default component.exports","export * from \"-!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./release.vue?vue&type=template&id=354c8078&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./release.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./release.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport uploadImg from '../../../common/uploadImg.js'\n\nimport topBar from '../../components/topBar.vue'\nexport default {\n  components: {\n    topBar: topBar\n  },\n  data () {\n    return {\n      formData: {\n        article_title: '',\n        article_content: '',\n        category_id: '',\n        tags: '',\n        address: '',\n        address_latitude: '',\n        address_longitude: '',\n        uploaded: [],\n        source: 'umi'\n      },\n      imgArr: [],\n      imgUploadID: [],\n      time: 0,\n    }\n  },\n  methods: {\n    goIndex() {\n      uni.switchTab({\n        url: '../index'\n      })\n    },\n    // 获取当前位置信息\n    getAddress() {\n      let that= this\n      uni.chooseLocation({\n        success: function (res) {\n          console.log(res)\n          console.log('位置名称：' + res.name);\n          console.log('详细地址：' + res.address);\n          console.log('纬度：' + res.latitude);\n          console.log('经度：' + res.longitude);\n          \n          that.formData.address= res.address + res.name\n          that.formData.address_latitude= res.latitude\n          that.formData.address_longitude= res.longitude\n        }\n      })\n      // uni.getLocation({\n      //   type: 'wgs84',\n      //   success: function (res) {\n      //     console.log(res)\n      //     console.log('当前位置的经度：' + res.longitude)\n      //     console.log('当前位置的纬度：' + res.latitude)\n          \n      //     that.formData.address_latitude= res.latitude\n      //     that.formData.address_longitude= res.longitude\n          \n      //   }\n      // })\n    },\n    \n    // 删除图片\n    delImg(index) {\n      this.imgArr.splice(index, 1)\n      this.formData.uploaded.splice(index, 1)\n    },\n    // 上传图片\n    uploadImg () {\n      let that= this\n      let length= this.imgArr.length\n      let leavelength = 9 - length\n      if(leavelength > 0) {\n        \n        uni.chooseImage({\n          count: leavelength, //默认9\n          sizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\n          sourceType: ['album'], //从相册选择\n          success: function (res) {\n            \n            let time= 0,\n              max_time= res.tempFilePaths.length\n            uni.showLoading({\n                title: '上传图片中..'\n            })\n            // console.log(JSON.stringify(res.tempFilePaths))\n            res.tempFilePaths.map((item, index) => {\n              // 上传图片\n              uploadImg(item).then((res)=> {\n                time ++\n                if(time === max_time) {\n                  uni.hideLoading()\n                  uni.showToast({\n                    title: max_time + '张图片上传成功',\n                    icon: 'none'\n                  })\n                }\n                that.imgArr.push(item)\n                console.log(JSON.parse(res).data.file_id)\n                that.formData.uploaded.push(JSON.parse(res).data.file_id)\n                \n              })\n            }, err => {\n              uni.hideLoading()\n              uni.showToast({\n                title: '第' + (index + 1) + '张图片上传失败',\n                icon: 'none'\n              })\n            })\n          }\n        }) \n      } else {\n        uni.showToast({\n          title: '最多只能传9张图片哦',\n          icon: 'none'\n        })\n      }\n    },\n    // 发布文章\n    releaseAction() {\n      let that= this\n      if(!that.formData.article_content) {\n        uni.showToast({\n          title: '文章内容不能为空！',\n          icon: 'none'\n        })\n        return\n      }\n      \n      let params= {\n        url: that.$api.articleRelease,\n        data: {\n          formData: JSON.stringify(that.formData)\n        },\n        method: 'POST'\n      }\n      that.$httpRequest(params).then(res => {\n        if(res.code === 1) {\n          uni.showToast({\n            title: '发布成功',\n            icon: 'none'\n          })\n          that.goIndex()\n        } else {\n          uni.showToast({\n            title: res.msg,\n            icon: 'none'\n          })\n          return\n        }\n      })\n    }\n  }\n}\n","import mod from \"-!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./release.vue?vue&type=style&index=0&id=354c8078&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./release.vue?vue&type=style&index=0&id=354c8078&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}