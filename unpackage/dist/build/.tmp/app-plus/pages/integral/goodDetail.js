(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/integral/goodDetail"],{"71fd":function(e,t,o){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){return Promise.all([o.e("common/vendor"),o.e("pages/components/banner")]).then(o.bind(null,"1999"))},n=function(){return o.e("pages/components/uni-popup/uni-popup").then(o.bind(null,"13b1"))},s={components:{banner:i,uniPopup:n},data:function(){return{goods_id:"",detail:"",specData:"",swiperList:[],goods:{},select_arr:[],select_name:[],goods_num:1}},onLoad:function(t){console.log(e(t," at pages\\integral\\goodDetail.vue:89")),t.goods_id&&(this.goods_id=t.goods_id,this.getDetail(t.goods_id))},methods:{getDetail:function(t){var o=this,a={url:o.$api.goodDetail,data:{goods_id:this.goods_id}};o.$httpRequest(a).then(function(t){console.log(e(t.data," at pages\\integral\\goodDetail.vue:107")),o.detail=t.data.detail,o.specData=t.data.specData,o.swiperList=t.data.detail.image;var a=t.data.detail.content,i=new RegExp("img");if(a=a.replace(i,'img style="max-width: 100%;"'),o.detail.content=a,t.data.specData){o.specData.spec_attr.map(function(e,t){o.select_arr.push(e.spec_items[0].item_id),o.select_name.push(e.spec_items[0].spec_value)});var n={},s=o.select_arr.join("_");o.specData.spec_list.map(function(t,o){t.spec_sku_id===s&&(n.goods_price=t.form.goods_price,t.form.image_path&&(n.image_path=t.form.image_path,console.log(e(t.form.image_path," at pages\\integral\\goodDetail.vue:133"))))}),o.goods=n}else o.select_arr.push(t.data.detail.sku[0].goods_sku_id),o.goods.goods_price=t.data.detail.sku[0].goods_price,o.goods.image_path=t.data.detail.image[0].file_path})},goOrder:function(){var t=this,o=t.select_arr.join("_"),i={url:t.$api.buyNowinventory,data:{goods_id:this.goods_id,goods_num:this.goods_num,goods_sku_id:o}};t.$httpRequest(i).then(function(t){if(1===t.code){var o=JSON.stringify(i.data);return console.log(e(o," at pages\\integral\\goodDetail.vue:188")),void a.navigateTo({url:"order/orderSure?obj="+o})}a.showToast({title:t.msg,icon:"none"})})},open:function(){this.$refs.popup.open()},close:function(){this.$refs.popup.close()},selectNorm:function(t,o,a){var i=this;i.select_arr[t]=o.item_id;var n=[],s=[];i.select_arr.map(function(e,a){a===t?n.push(o.item_id):n.push(e)}),i.select_arr=n,i.select_name.map(function(e,a){a===t?s.push(o.spec_value):s.push(e)}),i.select_name=s;var r=i.select_arr.join("_"),d=i.goods;i.specData.spec_list.map(function(t,o){console.log(e(t,r," at pages\\integral\\goodDetail.vue:241")),t.spec_sku_id===r&&(d.goods_price=t.form.goods_price,d.goods_price=t.form.goods_price,t.form.image_path&&(d.image_path=t.form.image_path,console.log(e(t.form.image_path," at pages\\integral\\goodDetail.vue:247"))))}),i.goods=d},controlNum:function(e){if("+"===e){if(this.goods_num>=this.goods.stock_num)return void a.showToast({title:"库存不足",icon:"none"});this.goods_num+=1}else if("-"===e&&this.goods_num>1)return void(this.goods_num-=1)}}};t.default=s}).call(this,o("0de9")["default"],o("6e42")["default"])},"8b53":function(e,t,o){"use strict";o.r(t);var a=o("e697"),i=o("fab4");for(var n in i)"default"!==n&&function(e){o.d(t,e,function(){return i[e]})}(n);o("c6d6");var s,r=o("f0c5"),d=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"3f16a8d0",null,!1,a["a"],s);t["default"]=d.exports},c6d6:function(e,t,o){"use strict";var a=o("d23f"),i=o.n(a);i.a},c7b8:function(e,t,o){"use strict";(function(e){o("7539"),o("921b");a(o("66fd"));var t=a(o("8b53"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("6e42")["createPage"])},d23f:function(e,t,o){},e697:function(e,t,o){"use strict";var a,i=function(){var e=this,t=e.$createElement;e._self._c},n=[];o.d(t,"b",function(){return i}),o.d(t,"c",function(){return n}),o.d(t,"a",function(){return a})},fab4:function(e,t,o){"use strict";o.r(t);var a=o("71fd"),i=o.n(a);for(var n in a)"default"!==n&&function(e){o.d(t,e,function(){return a[e]})}(n);t["default"]=i.a}},[["c7b8","common/runtime","common/vendor"]]]);